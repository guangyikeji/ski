# é«˜å±±æ»‘é›ªç«èµ›ç®¡ç†ç³»ç»Ÿ

## é¡¹ç›®æ¦‚è¿°
åŸºäºå›½é™…é›ªè”(FIS)è§„åˆ™çš„é«˜å±±æ»‘é›ªç«èµ›æ•°æ®ç®¡ç†å’Œç§¯åˆ†è®¡ç®—ç³»ç»Ÿï¼Œæ”¯æŒWebç«¯å’Œå¾®ä¿¡å°ç¨‹åºå¤šç«¯è®¿é—®ã€‚

## æ ¸å¿ƒåŠŸèƒ½éœ€æ±‚

### 1. ç«èµ›æ•°æ®ç®¡ç†
- **æ•°æ®å¯¼å…¥**: æ”¯æŒFISæ ‡å‡†XMLæ ¼å¼ç«èµ›æ•°æ®å¯¼å…¥
- **æ•°æ®è§£æ**: è‡ªåŠ¨è§£ææ¯”èµ›ç»“æœã€è¿åŠ¨å‘˜ä¿¡æ¯ã€èµ›é“æ¡ä»¶ç­‰
- **æ•°æ®å­˜å‚¨**: ç»“æ„åŒ–å­˜å‚¨å†å²æ¯”èµ›æ•°æ®
- **æ•°æ®æŸ¥è¯¢**: æ”¯æŒå¤šç»´åº¦æ•°æ®æ£€ç´¢å’Œç­›é€‰

### 2. ç§¯åˆ†è®¡ç®—ç³»ç»Ÿ
- **FISç§¯åˆ†è§„åˆ™**: åŸºäºæœ€æ–°FISç§¯åˆ†è§„åˆ™è‡ªåŠ¨è®¡ç®—
- **å®æ—¶è®¡ç®—**: æ¯”èµ›ç»“æŸåè‡ªåŠ¨æ›´æ–°è¿åŠ¨å‘˜ç§¯åˆ†
- **ç§¯åˆ†å†å²**: è¿½è¸ªè¿åŠ¨å‘˜ç§¯åˆ†å˜åŒ–è¶‹åŠ¿
- **æ’åç³»ç»Ÿ**: åŸºäºç§¯åˆ†çš„å®æ—¶æ’åæ›´æ–°

### 3. è§„åˆ™ç®¡ç†
- **è§„åˆ™åº“**: æ•°å­—åŒ–å­˜å‚¨ç«èµ›è§„åˆ™æ–‡æ¡£
- **è§„åˆ™æŸ¥è¯¢**: æ”¯æŒå…³é”®è¯æœç´¢å’Œåˆ†ç±»æŸ¥è¯¢
- **è§„åˆ™æ›´æ–°**: åŠæ—¶æ›´æ–°æœ€æ–°ç‰ˆæœ¬è§„åˆ™
- **ä¸­è‹±å¯¹ç…§**: æ”¯æŒä¸­è‹±æ–‡è§„åˆ™å¯¹ç…§æŸ¥çœ‹

### 4. æˆç»©ç®¡ç†
- **æˆç»©å½•å…¥**: æ”¯æŒæ‰‹åŠ¨å’Œæ‰¹é‡æˆç»©å½•å…¥
- **æˆç»©ç»Ÿè®¡**: è¿åŠ¨å‘˜ä¸ªäººå’Œå›¢ä½“æˆç»©ç»Ÿè®¡
- **æˆç»©æ’å**: å¤šé¡¹ç›®ã€å¤šçº§åˆ«æˆç»©æ’å
- **æˆç»©éªŒè¯**: æˆç»©æ•°æ®æ ¡éªŒå’Œå¼‚å¸¸æ£€æµ‹

### 5. æŠ¥ååŠŸèƒ½ â­ æ–°å¢
- **åœ¨çº¿æŠ¥å**: è¿åŠ¨å‘˜/æ•™ç»ƒå‘˜åœ¨çº¿æŠ¥åå‚èµ›
- **èµ„æ ¼å®¡æŸ¥**: è‡ªåŠ¨éªŒè¯å‚èµ›èµ„æ ¼å’Œç§¯åˆ†è¦æ±‚
- **æŠ¥åç®¡ç†**: æŠ¥åä¿¡æ¯å®¡æ ¸ã€ä¿®æ”¹ã€å–æ¶ˆ
- **è´¹ç”¨ç®¡ç†**: æŠ¥åè´¹ç”¨è®¡ç®—å’Œæ”¯ä»˜é›†æˆ
- **åå•å¯¼å‡º**: ç”Ÿæˆå‚èµ›åå•å’Œèµ·è·‘é¡ºåº

### 6. æŠ¥è¡¨ç”Ÿæˆ
- **æ¯”èµ›æŠ¥å‘Š**: è‡ªåŠ¨ç”Ÿæˆæ¯”èµ›ç»“æœæŠ¥å‘Š
- **ç§¯åˆ†æŠ¥è¡¨**: è¿åŠ¨å‘˜ç§¯åˆ†å˜åŒ–æŠ¥è¡¨
- **ç»Ÿè®¡åˆ†æ**: æ¯”èµ›æ•°æ®ç»Ÿè®¡åˆ†æå›¾è¡¨
- **å¯¼å‡ºåŠŸèƒ½**: æ”¯æŒPDFã€Excelç­‰æ ¼å¼å¯¼å‡º

## FISç§¯åˆ†è®¡ç®—è§„åˆ™è¯¦è§£ â­ æ ¸å¿ƒç³»ç»Ÿ

### 1. ç§¯åˆ†ç³»ç»ŸåŸºæœ¬åŸç†
- **æ ‡å‡†åŒ–è®¡ç®—**: ä½¿ç”¨ç»Ÿä¸€çš„é«˜å±±æ»‘é›ªå…¬å¼ç¡®ä¿æ¯”èµ›ç§¯åˆ†çš„å…¬å¹³æ€§
- **åŠ¨æ€æ›´æ–°**: é€šè¿‡åŸºç¡€ç§¯åˆ†è¡¨(BL)å’Œå¸¸è§„ç§¯åˆ†è¡¨(NL)å®ç°ç§¯åˆ†çš„åŠ¨æ€æ›´æ–°
- **éš¾åº¦ç³»æ•°**: åŸºäºå‚èµ›é€‰æ‰‹ä¸­æœ€å¥½5åçš„FISç§¯åˆ†è®¡ç®—æ¯”èµ›éš¾åº¦
- **æœ‰æ•ˆæœŸç®¡ç†**: å½“å‰èµ›å­£å†…çš„æˆç»©æœ‰æ•ˆï¼Œä¿æŒç§¯åˆ†æ—¶æ•ˆæ€§

### 2. æ ¸å¿ƒè®¡ç®—å…¬å¼

#### 2.1 æ¯”èµ›ç§¯åˆ†è®¡ç®—å…¬å¼
```javascript
// é«˜å±±æ»‘é›ªæ ‡å‡†å…¬å¼
P = F Ã— (Tx/To - 1)
// æˆ–è€…
P = (F Ã— Tx/To) - F

// å‚æ•°è¯´æ˜:
// P = æ¯”èµ›ç§¯åˆ† (Race Points)
// To = è·èƒœè€…æ—¶é—´ (Winner's Time in seconds)
// Tx = è¢«æ’åé€‰æ‰‹æ—¶é—´ (Ranked Competitor's Time in seconds)
// F = é¡¹ç›®ç³»æ•° (Discipline Factor)
```

#### 2.2 å„é¡¹ç›®Fç³»æ•°
```javascript
const DISCIPLINE_FACTORS = {
  DH: 1250,    // é€Ÿé™ (Downhill)
  SL: 730,     // å›è½¬ (Slalom)
  GS: 1010,    // å¤§å›è½¬ (Giant Slalom)
  SG: 1190,    // è¶…çº§å¤§å›è½¬ (Super Giant Slalom)
  AC: 1360     // å…¨èƒ½ (Alpine Combined)
};
```

#### 2.3 æƒ©ç½šå€¼è®¡ç®—å…¬å¼
```javascript
// æƒ©ç½šå€¼ = (Sum A + Sum B - Sum C) Ã· 10
penalty = (sumA + sumB - sumC) / 10;

// å‚æ•°è¯´æ˜:
// sumA = å‰10åä¸­æœ€å¥½5åé€‰æ‰‹çš„FISç§¯åˆ†æ€»å’Œ
// sumB = æ‰€æœ‰å‚èµ›é€‰æ‰‹ä¸­æœ€å¥½5åçš„FISç§¯åˆ†æ€»å’Œ
// sumC = æœ€å¥½5åé€‰æ‰‹çš„æ¯”èµ›ç§¯åˆ†æ€»å’Œ
```

### 3. ç§¯åˆ†æ›´æ–°æœºåˆ¶

#### 3.1 åŸºç¡€ç§¯åˆ†è¡¨(BL)
- **å‘å¸ƒæ—¶é—´**: æ¯å¹´6æœˆä¸­æ—¬
- **è®¡ç®—æ–¹æ³•**: è¿‡å»èµ›å­£æ¯ä¸ªé¡¹ç›®æœ€å¥½2ä¸ªæˆç»©çš„å¹³å‡å€¼
- **ç‰¹æ®Šå¤„ç†**:
  - å•ä¸€æˆç»©: å¢åŠ 20% (+æ ‡è®°)
  - æ— æˆç»©: åœ¨ä¹‹å‰BLåŸºç¡€ä¸Šå¢åŠ 50% (>æ ‡è®°)

#### 3.2 å¸¸è§„ç§¯åˆ†è¡¨(NL)
- **é¦–æ¬¡å‘å¸ƒ**: 7æœˆ1æ—¥
- **æ›´æ–°é¢‘ç‡**: èµ›å­£æœŸé—´å®šæœŸæ›´æ–°
- **è®¡ç®—åŸåˆ™**: å½“å‰æœŸé—´æ¯ä¸ªé¡¹ç›®æœ€å¥½2ä¸ªæˆç»©çš„å¹³å‡å€¼

#### 3.3 ç‰¹æ®ŠçŠ¶æ€å¤„ç†
```javascript
const SPECIAL_STATUS = {
  INJURY_PROTECTION: 1.10,    // ä¼¤ç—…ä¿æŠ¤(#): å¢åŠ 10%
  PREGNANCY_PROTECTION: 9,    // æ€€å­•ä¿æŠ¤: æœ€å¤š9ä¸ªæœˆ
  CONFIRMED_POINTS: 4         // ç§¯åˆ†ç¡®è®¤(C): é€€å½¹é€‰æ‰‹4ä¸ªèµ›å­£
};
```

### 4. é¡¹ç›®ç‰¹æ®Šè§„åˆ™

#### 4.1 æœ€å¤§ç§¯åˆ†å€¼é™åˆ¶
```javascript
const MAX_POINTS = {
  DH: 330,    // é€Ÿé™
  SG: 270,    // è¶…çº§å¤§å›è½¬
  SL: 165,    // å›è½¬
  GS: 220,    // å¤§å›è½¬
  AC: 270     // å…¨èƒ½
};
```

#### 4.2 å‚èµ›é…é¢è®¡ç®—
```javascript
// åŸºäºç¬¬1ä¸ªFISç§¯åˆ†è¡¨ä¸­å„å›½é€‰æ‰‹åœ¨5ä¸ªé¡¹ç›®ä¸­çš„æœ€ä½³è¡¨ç°
function calculateQuota(rankingPosition, athleteCount) {
  if (rankingPosition <= 150) {
    if (athleteCount >= 10) return 10;
    if (athleteCount >= 9) return 9;
    if (athleteCount >= 8) return 8;
    if (athleteCount >= 7) return 7;
    return 6; // 1-6åé€‰æ‰‹
  } else if (rankingPosition <= 300) {
    return athleteCount >= 2 ? 5 : 4;
  }
  return 0;
}
```

### 5. æ•°æ®å¤„ç†è§„åˆ™

#### 5.1 ç§¯åˆ†èˆå…¥è§„åˆ™
```javascript
function roundPoints(points) {
  // ä»0.0004å‘ä¸‹èˆå…¥ï¼Œä»0.0005å‘ä¸Šèˆå…¥
  return Math.round(points * 100) / 100;
  // ä¾‹: 13.654 = 13.65, 21.849 = 21.85
}
```

#### 5.2 å¹¶åˆ—æƒ…å†µå¤„ç†
- ç¬¬10åå¹¶åˆ—: æ‰€æœ‰å¹¶åˆ—é€‰æ‰‹éƒ½å‚ä¸æƒ©ç½šå€¼è®¡ç®—
- ç¬¬5å¥½FISç§¯åˆ†å¹¶åˆ—: é€‰æ‹©æ¯”èµ›ç§¯åˆ†æ›´é«˜è€…å‚ä¸è®¡ç®—

### 6. ç³»ç»Ÿå®ç°æ¶æ„

#### 6.1 ç§¯åˆ†è®¡ç®—å¼•æ“
```javascript
class FISPointsCalculator {
  calculateRacePoints(winnerTime, competitorTime, discipline) {
    const F = DISCIPLINE_FACTORS[discipline];
    return F * (competitorTime / winnerTime - 1);
  }

  calculatePenalty(top10FISPoints, allCompetitorsFISPoints, top5RacePoints) {
    const sumA = top10FISPoints.slice(0, 5).reduce((a, b) => a + b, 0);
    const sumB = allCompetitorsFISPoints.slice(0, 5).reduce((a, b) => a + b, 0);
    const sumC = top5RacePoints.reduce((a, b) => a + b, 0);
    return (sumA + sumB - sumC) / 10;
  }
}
```

#### 6.2 æ•°æ®éªŒè¯è§„åˆ™
- åå…´å¥‹å‰‚: è¿è§„é€‰æ‰‹åˆ é™¤ä¹‹å‰è·å¾—çš„FISç§¯åˆ†
- æ•°æ®ä¼ è¾“: å¿…é¡»ä½¿ç”¨FISæ ¼å¼ç”µå­ä¼ è¾“
- æŠ€æœ¯ç›‘ç£: æŠ€æœ¯ä»£è¡¨å¿…é¡»ç›‘ç£å¹¶åœ¨çº¿æŠ¥å‘Š

### 7. ä¸­æ–‡æ–‡æ¡£è¡¥å……è§„åˆ™ ğŸ“‹

#### 7.1 è¯„ä¼°å‘¨æœŸç®¡ç†
```javascript
const EVALUATION_PERIODS = {
  NORTHERN_HEMISPHERE: {
    start: '11æœˆç¬¬äºŒä¸ªå‘¨æœ«',
    end: '4æœˆ30æ—¥'
  },
  SOUTHERN_HEMISPHERE: {
    start: '7æœˆ1æ—¥',
    end: '10æœˆ15æ—¥'
  }
};
```

#### 7.2 åŸºç¡€ç§¯åˆ†è¡¨(BL)è¯¦ç»†è§„åˆ™
```javascript
function calculateBLPoints(previousResults, previousBL) {
  if (previousResults.length >= 2) {
    // ä½¿ç”¨ä¸¤ä¸ªæœ€ä½³æˆç»©çš„å¹³å‡å€¼
    const bestTwo = previousResults.slice(0, 2);
    return bestTwo.reduce((a, b) => a + b) / 2;
  } else if (previousResults.length === 1) {
    // ä»…æœ‰ä¸€æ¬¡æˆç»©ï¼šé™„åŠ 20%
    return previousResults[0] * 1.20;
  } else {
    // æ— æˆç»©ï¼šåœ¨ä¹‹å‰BLåŸºç¡€ä¸Šå¢åŠ 50%
    return previousBL * 1.50;
  }
}

// ä¼¤ç—…ä¿æŠ¤å¤„ç†
function applyInjuryProtection(currentPoints, protectionPoints) {
  if (currentPoints < protectionPoints) {
    return protectionPoints * 1.10; // BLç§¯åˆ†ä¸Šè°ƒ10%
  }
  return currentPoints;
}
```

#### 7.3 å›½å†…ç§¯åˆ†ç³»ç»Ÿæ¶æ„
```javascript
class DomesticPointsSystem {
  constructor() {
    this.baselist = [];
    this.evaluationCycle = 14; // 14å¤©ä¸ºä¸€ä¸ªç§¯åˆ†å‘¨æœŸ
  }

  // åˆ›å»ºå›½å†…åŸºç¡€ç§¯åˆ†è¡¨
  createDomesticBaseList(fisRegisteredAthletes) {
    // æŒ‰é¡¹ç›®åˆ†ç±»æ’åºï¼Œç¬¬ä¸€åä¸º0åˆ†
    const sorted = fisRegisteredAthletes.sort((a, b) => a.fisPoints - b.fisPoints);
    const champion = sorted[0];

    return sorted.map(athlete => ({
      ...athlete,
      domesticPoints: athlete.fisPoints - champion.fisPoints
    }));
  }

  // ç§¯åˆ†å‘¨æœŸæ›´æ–°æµç¨‹
  updatePointsCycle(raceResults) {
    // 1. æ¯”èµ›æˆç»©ç¡®è®¤
    const confirmedResults = this.confirmResults(raceResults);

    // 2. æ’åè®¡ç®—
    const rankings = this.calculateRankings(confirmedResults);

    // 3. æ¢ç®—å…¬å¼åº”ç”¨
    const racePoints = this.applyConversionFormula(rankings);

    // 4. å‡å»ç½šåˆ†
    const finalPoints = this.applyPenalty(racePoints);

    // 5. å½¢æˆä¸–ç•Œæ’å
    return this.generateWorldRanking(finalPoints);
  }
}
```

#### 7.4 åˆ†ç«™èµ›ç§¯åˆ†ç³»ç»Ÿ
```javascript
const STAGE_RACE_POINTS = {
  CHAMPION: 1000,
  RUNNER_UP: 800,
  THIRD_PLACE: 600,
  FOURTH_PLACE: 500,
  FIFTH_PLACE: 400
  // ... å…¶ä»–åæ¬¡
};

// æ€»å†³èµ›ç§¯åˆ†é€šè¿‡å åŠ åˆ†ç«™èµ›æˆç»©ç¡®å®š
function calculateFinalPoints(stageResults) {
  return stageResults.reduce((total, stage) => {
    return total + STAGE_RACE_POINTS[stage.position] || 0;
  }, 0);
}
```

#### 7.5 ç«èµ›ç®¡ç†è§„åˆ™
```javascript
const COMPETITION_RULES = {
  // ç”µå­åª’ä½“æƒåˆ©ç®¡ç†
  MEDIA_RIGHTS: {
    rules: '208-209',
    description: 'ç«èµ›è½¬æ’­å’Œåª’ä½“æƒåˆ©ç®¡ç†'
  },

  // ç«èµ›ç»„ç»‡ç¨‹åº
  ORGANIZATION: {
    rules: '210-219',
    description: 'èµ›äº‹ç­¹å¤‡å’Œç»„ç»‡æµç¨‹'
  },

  // å‚èµ›èµ„æ ¼
  ELIGIBILITY: {
    rules: '605-610',
    description: 'è¿åŠ¨å‘˜å‚èµ›èµ„æ ¼å’Œå¹´é¾„é™åˆ¶'
  },

  // ç«èµ›æ‰§è¡Œ
  EXECUTION: {
    rules: '611-617',
    description: 'æ¯”èµ›ç°åœºæ‰§è¡Œç¨‹åº'
  },

  // ç”³è¯‰ç¨‹åº
  APPEALS: {
    rules: '640-647',
    description: 'æŠ—è®®ä¸ç”³è¯‰å¤„ç†æµç¨‹'
  }
};
```

#### 7.6 ç‰¹æ®Šæƒ…å†µå¤„ç†è¯¦åˆ™
```javascript
class SpecialCaseHandler {
  // å•ä¸€æˆç»©å¤„ç†
  handleSingleResult(result, hasBL) {
    if (!hasBL) {
      return result * 1.20; // åŠ 20%
    }
    return result;
  }

  // æ— æˆç»©å¤„ç†
  handleNoResults(previousBL) {
    return previousBL * 1.50; // åœ¨BLåŸºç¡€ä¸ŠåŠ 50%
  }

  // ä¼¤ç—…ä¿æŠ¤å¤„ç†
  handleInjuryProtection(currentBL) {
    return currentBL * 1.10; // åœ¨BLåŸºç¡€ä¸ŠåŠ 10%
  }

  // åå…´å¥‹å‰‚å¤„ç†
  handleDopingViolation(athleteId) {
    // åˆ é™¤æ‰€æœ‰FISç§¯åˆ†
    this.deleteAllFISPoints(athleteId);
    this.addViolationRecord(athleteId);
  }

  // ç½šåˆ†ä¸è¶³5äººå¤„ç†
  handleInsufficientParticipants(availablePoints, discipline) {
    const maxValues = MAX_POINTS[discipline];
    return this.padWithMaxValues(availablePoints, maxValues, 5);
  }
}
```

#### 7.7 ç§¯åˆ†å±•ç¤ºè¦æ±‚
```javascript
const DISPLAY_REQUIREMENTS = {
  // ç§¯åˆ†æ’è¡Œæ¦œå…¬ç¤º
  PUBLIC_RANKING: {
    updateFrequency: '14å¤©å‘¨æœŸ',
    includeFields: ['æ’å', 'å§“å', 'ç§¯åˆ†', 'ç½šåˆ†å€¼', 'æœ€ç»ˆç§¯åˆ†'],
    format: 'å‚ç…§å›½é™…é›ªè”å®˜ç½‘é£æ ¼'
  },

  // ç½šåˆ†å€¼å±•ç¤º
  PENALTY_DISPLAY: {
    showInRanking: true,
    showCalculationDetails: true,
    transparency: 'å®Œå…¨å…¬å¼€è®¡ç®—è¿‡ç¨‹'
  },

  // å›½é™…åŒ–ç•Œé¢
  INTERNATIONALIZATION: {
    languages: ['ä¸­æ–‡', 'è‹±æ–‡'],
    terminology: 'ä¸FISå®˜æ–¹æœ¯è¯­ä¿æŒä¸€è‡´'
  }
};
```

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æ¶æ„
- **Webç«¯**: React/Vue.js å“åº”å¼è®¾è®¡
- **å°ç¨‹åº**: å¾®ä¿¡å°ç¨‹åºåŸç”Ÿå¼€å‘
- **ç§»åŠ¨ç«¯**: å“åº”å¼è®¾è®¡é€‚é…æ‰‹æœºè®¿é—®

### åç«¯æ¶æ„
- **APIæœåŠ¡**: Node.js/Python FastAPI
- **æ•°æ®åº“**: PostgreSQL + Redisç¼“å­˜
- **æ–‡ä»¶å­˜å‚¨**: äº‘å­˜å‚¨æœåŠ¡(OSS/COS)
- **æ¶ˆæ¯é˜Ÿåˆ—**: Redis/RabbitMQ

### æ•°æ®å±‚è®¾è®¡
```sql
-- æ ¸å¿ƒæ•°æ®è¡¨ç»“æ„è®¾è®¡
athletes (è¿åŠ¨å‘˜è¡¨)
competitions (æ¯”èµ›è¡¨)
results (æˆç»©è¡¨)
points (ç§¯åˆ†è¡¨)
registrations (æŠ¥åè¡¨)
rules (è§„åˆ™è¡¨)
```

## å¼€å‘é˜¶æ®µè§„åˆ’

### Phase 1: åŸºç¡€æ•°æ®ç®¡ç†
- æ•°æ®åº“è®¾è®¡å’Œæ­å»º
- XMLæ•°æ®è§£ææ¨¡å—
- åŸºç¡€CRUDæ¥å£å¼€å‘
- ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

### Phase 2: ç§¯åˆ†è®¡ç®—æ ¸å¿ƒ
- FISç§¯åˆ†è®¡ç®—å¼•æ“
- æˆç»©ç®¡ç†ç³»ç»Ÿ
- åŸºç¡€æŠ¥è¡¨åŠŸèƒ½
- Webç«¯ç®¡ç†ç•Œé¢

### Phase 3: æŠ¥åç³»ç»Ÿ
- åœ¨çº¿æŠ¥ååŠŸèƒ½
- èµ„æ ¼å®¡æŸ¥æ¨¡å—
- æ”¯ä»˜é›†æˆ
- æŠ¥åç®¡ç†åå°

### Phase 4: ç§»åŠ¨ç«¯å¼€å‘
- å¾®ä¿¡å°ç¨‹åºå¼€å‘
- ç§»åŠ¨ç«¯ä¼˜åŒ–
- ç¦»çº¿åŠŸèƒ½æ”¯æŒ
- æ¨é€é€šçŸ¥

### Phase 5: é«˜çº§åŠŸèƒ½
- æ•°æ®åˆ†æå’Œå¯è§†åŒ–
- æ™ºèƒ½æ¨èç³»ç»Ÿ
- å¤šè¯­è¨€æ”¯æŒ
- æ€§èƒ½ä¼˜åŒ–

## é¡¹ç›®æ–‡ä»¶è¯´æ˜

### ç°æœ‰èµ„æº
- `CHN6377.O22.xml`: FISæ ‡å‡†æ¯”èµ›æ•°æ®æ ·æœ¬
- `fis_points_rules_02-09-2024.pdf`: FISç§¯åˆ†è§„åˆ™æ–‡æ¡£
- `icr_21-12-2024.pdf`: å›½é™…ç«èµ›è§„åˆ™
- `å›½é™…é›ªè”ç«èµ›è§„åˆ™2021å¹´7æœˆç‰ˆï¼ˆä¸­è‹±ï¼‰.docx`: ä¸­è‹±æ–‡è§„åˆ™å¯¹ç…§
- `æ»‘é›ªç§¯åˆ†é—®é¢˜æ±‡æ€».docx`: ç§¯åˆ†è®¡ç®—é—®é¢˜æ€»ç»“

### å¼€å‘å‘½ä»¤
```bash
# æµ‹è¯•å‘½ä»¤
npm test

# æ„å»ºå‘½ä»¤
npm run build

# ç±»å‹æ£€æŸ¥
npm run typecheck

# ä»£ç è§„èŒƒæ£€æŸ¥
npm run lint
```

## Gitä»“åº“ä¿¡æ¯ ğŸ“¦

### ğŸ”— è¿œç¨‹ä»“åº“
- **Giteeä»“åº“**: https://gitee.com/guangyikeji/ski.git
- **GitHubä»“åº“**: https://github.com/guangyikeji/ski.git
- **å…‹éš†å‘½ä»¤**: `git clone https://gitee.com/guangyikeji/ski.git`
- **ä¸»åˆ†æ”¯**: main

### ğŸ‘¤ Gité…ç½®
```bash
git config --global user.name 'guangyikeji'
git config --global user.email '16161327+guangyikeji@user.noreply.gitee.com'
```

### ğŸ”‘ è®¿é—®ä»¤ç‰Œ
- **Gitee Token**: `5cb815ad06bd80f3fa523ba8498a89d8`
- **GitHub Token**: è¯·ä½¿ç”¨ç¯å¢ƒå˜é‡ `$GITHUB_TOKEN` æˆ–å®‰å…¨å­˜å‚¨
- **ç”¨é€”**: ç”¨äºæ¨é€ä»£ç åˆ°è¿œç¨‹ä»“åº“
- **ä½¿ç”¨æ–¹æ³•**: åœ¨HTTPS URLä¸­æ›¿æ¢å¯†ç éƒ¨åˆ†

### ğŸ“¤ æ¨é€å‘½ä»¤
```bash
# æ·»åŠ Giteeè¿œç¨‹ä»“åº“
git remote add gitee https://guangyikeji:5cb815ad06bd80f3fa523ba8498a89d8@gitee.com/guangyikeji/ski.git

# æ·»åŠ GitHubè¿œç¨‹ä»“åº“ (ä½¿ç”¨ç¯å¢ƒå˜é‡)
git remote add github https://guangyikeji:$GITHUB_TOKEN@github.com/guangyikeji/ski.git

# æ¨é€åˆ°Gitee
git push gitee main

# æ¨é€åˆ°GitHub
git push github main
```

### ğŸ·ï¸ åˆ†æ”¯ç®¡ç†
- **main**: ä¸»åˆ†æ”¯ï¼Œç¨³å®šç‰ˆæœ¬
- **develop**: å¼€å‘åˆ†æ”¯ï¼ˆå¯é€‰ï¼‰
- **feature/***: åŠŸèƒ½åˆ†æ”¯ï¼ˆæŒ‰éœ€åˆ›å»ºï¼‰

### ğŸ“Š ä»“åº“çŠ¶æ€
- âœ… **Gitee**: ä»£ç å·²æˆåŠŸæ¨é€ï¼Œå¯æ­£å¸¸è®¿é—®
- âœ… **GitHub**: ä»£ç å·²æˆåŠŸæ¨é€ï¼Œå¯æ­£å¸¸è®¿é—®
- ğŸ”„ **åŒæ­¥ç­–ç•¥**: åŒä»“åº“åŒæ­¥æ›´æ–°

## äº‘æœåŠ¡å™¨éƒ¨ç½²æ–¹æ¡ˆ â˜ï¸

### ğŸ¯ è¿ç§»å¤æ‚åº¦: â­â­ (5æ˜Ÿåˆ¶ï¼Œéå¸¸ç®€å•)

#### ğŸ“Š è°ƒæ•´å·¥ä½œé‡è¯„ä¼°
- **Vercel**: 0% è°ƒæ•´ - é›¶é…ç½®éƒ¨ç½²
- **é˜¿é‡Œäº‘ECS**: 5% è°ƒæ•´ - ä»…éœ€è¿è¡Œéƒ¨ç½²è„šæœ¬
- **Dockeréƒ¨ç½²**: 10% è°ƒæ•´ - å·²æä¾›å®Œæ•´é…ç½®

### ğŸš€ æ¨èéƒ¨ç½²æ–¹æ¡ˆ

#### 1. Vercel (æœ€ç®€å•) â­â­â­â­â­
```bash
# ä¸€è¡Œå‘½ä»¤éƒ¨ç½²
npx vercel --prod
```
- âœ… é›¶é…ç½®ï¼Œè‡ªåŠ¨ä¼˜åŒ–
- âœ… å…è´¹SSLå’ŒCDN
- âœ… è‡ªåŠ¨ä»Giteeéƒ¨ç½²
- âœ… æ— éœ€æœåŠ¡å™¨ç®¡ç†

#### 2. é˜¿é‡Œäº‘/è…¾è®¯äº‘ ECS â­â­â­â­
```bash
# æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
git clone https://gitee.com/guangyikeji/ski.git
cd ski
chmod +x deploy.sh
./deploy.sh
```
- âœ… å·²æä¾›å®Œæ•´éƒ¨ç½²è„šæœ¬
- âœ… PM2è¿›ç¨‹ç®¡ç†
- âœ… Nginxåå‘ä»£ç†é…ç½®
- âœ… SSLè¯ä¹¦æ”¯æŒ

#### 3. Dockerå®¹å™¨åŒ– â­â­â­â­â­
```bash
# å•å‘½ä»¤å¯åŠ¨
docker-compose up -d
```
- âœ… ç¯å¢ƒä¸€è‡´æ€§
- âœ… æ˜“äºæ‰©å±•å’Œç»´æŠ¤
- âœ… åŒ…å«Nginxå’Œåº”ç”¨

### ğŸ“ å·²åˆ›å»ºçš„éƒ¨ç½²æ–‡ä»¶

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ Dockerfile              # Dockeré•œåƒæ„å»º
â”œâ”€â”€ docker-compose.yml      # å®¹å™¨ç¼–æ’é…ç½®
â”œâ”€â”€ nginx.conf              # Nginxåå‘ä»£ç†é…ç½®
â”œâ”€â”€ ecosystem.config.js     # PM2è¿›ç¨‹ç®¡ç†é…ç½®
â”œâ”€â”€ deploy.sh               # ä¸€é”®éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ .env.example            # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ .gitignore              # å·²æ›´æ–°éƒ¨ç½²ç›¸å…³å¿½ç•¥æ–‡ä»¶
```

### âš¡ ä¸€é”®éƒ¨ç½²æµç¨‹

#### æ–¹æ¡ˆA: Vercel (æ¨èæ–°æ‰‹)
1. æ³¨å†ŒVercelè´¦å·
2. è¿æ¥Giteeä»“åº“
3. è‡ªåŠ¨éƒ¨ç½²å®Œæˆ âœ…

#### æ–¹æ¡ˆB: äº‘æœåŠ¡å™¨ECS
```bash
# 1. è´­ä¹°äº‘æœåŠ¡å™¨ (1æ ¸2Gå³å¯)
# 2. å®‰è£…Node.js 18+
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# 3. å…‹éš†å¹¶éƒ¨ç½²
git clone https://gitee.com/guangyikeji/ski.git
cd ski
chmod +x deploy.sh
./deploy.sh
```

#### æ–¹æ¡ˆC: Dockeréƒ¨ç½²
```bash
# 1. å®‰è£…Docker
curl -fsSL https://get.docker.com | sh

# 2. ä¸€é”®å¯åŠ¨
git clone https://gitee.com/guangyikeji/ski.git
cd ski
docker-compose up -d
```

### ğŸ”§ ç¯å¢ƒå˜é‡é…ç½®
```bash
# å¤åˆ¶å¹¶ç¼–è¾‘ç¯å¢ƒå˜é‡
cp .env.example .env
nano .env

# ä¸»è¦é…ç½®é¡¹
NEXT_PUBLIC_SITE_URL=https://your-domain.com
NODE_ENV=production
PORT=3000
```

### ğŸ“Š éƒ¨ç½²æˆæœ¬é¢„ä¼°
| æ–¹æ¡ˆ | æœˆè´¹ç”¨ | é€‚ç”¨åœºæ™¯ |
|------|--------|----------|
| Vercel | å…è´¹ | ä¸ªäººé¡¹ç›®ã€æ¼”ç¤º |
| é˜¿é‡Œäº‘ECS 1æ ¸2G | Â¥50-80 | å°å‹é¡¹ç›® |
| é˜¿é‡Œäº‘ECS 2æ ¸4G | Â¥100-150 | ä¸­å‹é¡¹ç›® |
| Dockeré›†ç¾¤ | Â¥200+ | å¤§å‹é¡¹ç›® |

### ğŸ›¡ï¸ å®‰å…¨é…ç½®
- âœ… SSLè¯ä¹¦è‡ªåŠ¨é…ç½®
- âœ… å®‰å…¨HTTPå¤´è®¾ç½®
- âœ… ç¯å¢ƒå˜é‡ä¿æŠ¤
- âœ… æ–‡ä»¶æƒé™æ§åˆ¶
- âœ… è¿›ç¨‹è‡ªåŠ¨é‡å¯

## éƒ¨ç½²å’Œè¿ç»´
- **å®¹å™¨åŒ–**: Dockeréƒ¨ç½² (å·²é…ç½®)
- **CI/CD**: Gitee Actionsè‡ªåŠ¨åŒ–éƒ¨ç½² (å¯é€‰)
- **è¿›ç¨‹ç®¡ç†**: PM2é›†ç¾¤æ¨¡å¼
- **åå‘ä»£ç†**: Nginxè´Ÿè½½å‡è¡¡
- **ç›‘æ§**: è¿›ç¨‹çŠ¶æ€å’Œæ—¥å¿—ç›‘æ§
- **å¤‡ä»½**: æ•°æ®åº“å®šæœŸå¤‡ä»½ç­–ç•¥
- **SSL**: è‡ªåŠ¨HTTPSé‡å®šå‘

## å®‰å…¨è€ƒè™‘
- ç”¨æˆ·æƒé™ç®¡ç†
- æ•°æ®åŠ å¯†ä¼ è¾“
- æ•æ„Ÿä¿¡æ¯è„±æ•
- å®¡è®¡æ—¥å¿—è®°å½•
- **é‡è¦**: è¯·å¦¥å–„ä¿ç®¡è®¿é—®ä»¤ç‰Œï¼Œé¿å…æ³„éœ²