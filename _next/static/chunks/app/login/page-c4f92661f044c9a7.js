(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{1777:function(e,s,t){Promise.resolve().then(t.bind(t,8991))},9090:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(9763).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},8991:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var l=t(7437),r=t(2265),a=t(7648),i=t(9376),n=t(2369),c=t(6337),d=t(7769),m=t(2208),x=t(9090),o=t(4007),u=t(4362);function h(){let[e,s]=(0,r.useState)({email:"",password:""}),[t,h]=(0,r.useState)(!1),[b,f]=(0,r.useState)(""),{login:j,isLoading:p,error:g,isAuthenticated:N,clearError:v}=(0,u.a)(),y=(0,i.useRouter)(),w=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);(0,r.useEffect)(()=>{N&&y.push("/profile")},[N,y]);let k=async s=>{if(s.preventDefault(),v(),f(""),!e.email){f("请输入邮箱地址");return}if(!w(e.email)){f("请输入有效的邮箱地址");return}if(!e.password){f("请输入密码");return}try{await j(e)}catch(e){}},Z=t=>{let{name:l,value:r}=t.target;s({...e,[l]:r}),"email"===l&&b&&r&&w(r)&&f("")};return(0,l.jsxs)("div",{className:"min-h-screen flex",children:[(0,l.jsxs)("div",{className:"hidden lg:block lg:w-1/2 relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-ski-blue/90 to-blue-600/90"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('".concat((0,o.al)("/images/ski-bg.jpg"),"')")}}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center p-12",children:(0,l.jsxs)("div",{className:"text-white text-center max-w-md",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold mb-6",children:"欢迎回来"}),(0,l.jsx)("p",{className:"text-xl text-blue-100 mb-8",children:"登录您的中国高山滑雪积分管理平台账户"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center text-blue-100",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-blue-300 rounded-full mr-3"}),(0,l.jsx)("span",{children:"查看个人积分记录"})]}),(0,l.jsxs)("div",{className:"flex items-center text-blue-100",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-blue-300 rounded-full mr-3"}),(0,l.jsx)("span",{children:"参与赛事报名"})]}),(0,l.jsxs)("div",{className:"flex items-center text-blue-100",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-blue-300 rounded-full mr-3"}),(0,l.jsx)("span",{children:"查看积分排行榜"})]})]})]})})]}),(0,l.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:(0,l.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"会员登录"}),(0,l.jsx)("p",{className:"mt-2 text-gray-600",children:"请使用您的会员账户登录"})]}),(0,l.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[g&&(0,l.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:g}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"邮箱地址"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)(n.Z,{className:"h-5 w-5 text-gray-400"})}),(0,l.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:Z,className:"pl-10 w-full px-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent ".concat(b?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-ski-blue"),placeholder:"请输入您的邮箱地址"})]}),b&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"密码"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)(c.Z,{className:"h-5 w-5 text-gray-400"})}),(0,l.jsx)("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:e.password,onChange:Z,className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ski-blue focus:border-transparent",placeholder:"请输入您的密码"}),(0,l.jsx)("button",{type:"button",onClick:()=>h(!t),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:t?(0,l.jsx)(d.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,l.jsx)(m.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-ski-blue focus:ring-ski-blue border-gray-300 rounded"}),(0,l.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"记住我"})]}),(0,l.jsx)(a.default,{href:"/forgot-password",className:"text-sm text-ski-blue hover:text-ski-blue/80",children:"忘记密码？"})]}),(0,l.jsx)("button",{type:"submit",disabled:p,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-white bg-ski-blue hover:bg-ski-blue/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ski-blue disabled:opacity-50 disabled:cursor-not-allowed",children:p?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"登录中..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.Z,{className:"h-5 w-5 mr-2"}),"登录"]})}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"还没有账户？"}),(0,l.jsx)(a.default,{href:"/register",className:"ml-2 text-ski-blue hover:text-ski-blue/80 font-medium",children:"立即注册"})]})]}),(0,l.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,l.jsxs)("div",{className:"text-center text-sm text-gray-500",children:[(0,l.jsx)("p",{children:"登录即表示您同意我们的"}),(0,l.jsxs)("div",{className:"mt-1",children:[(0,l.jsx)(a.default,{href:"/terms",className:"text-ski-blue hover:text-ski-blue/80",children:"服务条款"}),(0,l.jsx)("span",{className:"mx-2",children:"和"}),(0,l.jsx)(a.default,{href:"/privacy",className:"text-ski-blue hover:text-ski-blue/80",children:"隐私政策"})]})]})})]})})]})}}},function(e){e.O(0,[451,570,971,117,744],function(){return e(e.s=1777)}),_N_E=e.O()}]);