(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[734],{8114:function(e,t,n){Promise.resolve().then(n.bind(n,8094))},9763:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=(e,t)=>{let n=(0,i.forwardRef)((n,r)=>{let{color:l="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,children:p,...m}=n;return(0,i.createElement)("svg",{ref:r,...s,width:c,height:c,stroke:l,strokeWidth:d?24*Number(o)/Number(c):o,className:"lucide lucide-".concat(a(e)),...m},[...t.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...(Array.isArray(p)?p:[p])||[]])});return n.displayName="".concat(e),n}},6221:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i=(0,n(9763).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},1047:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i=(0,n(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},2735:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i=(0,n(9763).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},3247:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i=(0,n(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},3085:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i=(0,n(9763).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},525:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i=(0,n(9763).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},9474:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i=(0,n(9763).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},2369:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i=(0,n(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},257:function(e,t,n){"use strict";var i,s;e.exports=(null==(i=n.g.process)?void 0:i.env)&&"object"==typeof(null==(s=n.g.process)?void 0:s.env)?n.g.process:n(4227)},4227:function(e){!function(){var t={229:function(e){var t,n,i,s=e.exports={};function a(){throw Error("setTimeout has not been defined")}function r(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var c=[],o=!1,d=-1;function p(){o&&i&&(o=!1,i.length?c=i.concat(c):d=-1,c.length&&m())}function m(){if(!o){var e=l(p);o=!0;for(var t=c.length;t;){for(i=c,c=[];++d<t;)i&&i[d].run();d=-1,t=c.length}i=null,o=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function x(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||o||l(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=x,s.addListener=x,s.once=x,s.off=x,s.removeListener=x,s.removeAllListeners=x,s.emit=x,s.prependListener=x,s.prependOnceListener=x,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},n={};function i(e){var s=n[e];if(void 0!==s)return s.exports;var a=n[e]={exports:{}},r=!0;try{t[e](a,a.exports,i),r=!1}finally{r&&delete n[e]}return a.exports}i.ab="//";var s=i(229);e.exports=s}()},8094:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var i=n(7437),s=n(2265),a=n(4007),r=n(5628),l=n(525),c=n(3085),o=n(2369),d=n(3247),p=n(6221),m=n(2735);let h=(0,n(9763).Z)("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);var x=n(1047),u=n(9474);let f=[{id:"1",name:"张伟",fisCode:"125001",nationality:"CHN",region:"黑龙江",specialties:["大回转","超级大回转"],currentPoints:{GS:45.67,SG:52.34},pointsHistory:[{date:"2024-12-15",competition:"2024全国锦标赛",discipline:"GS",rank:1,time:"1:23.45",racePoints:0,penalty:15.8,finalPoints:15.8,location:"长白山"},{date:"2024-12-10",competition:"东北地区公开赛",discipline:"GS",rank:3,time:"1:25.67",racePoints:25.4,penalty:18.2,finalPoints:43.6,location:"亚布力"},{date:"2024-12-05",competition:"北京站比赛",discipline:"SG",rank:2,time:"1:15.23",racePoints:12.3,penalty:22.1,finalPoints:34.4,location:"南山滑雪场"},{date:"2024-11-28",competition:"全国青年赛",discipline:"GS",rank:4,time:"1:26.89",racePoints:35.2,penalty:19.5,finalPoints:54.7,location:"崇礼"},{date:"2024-11-20",competition:"哈尔滨站",discipline:"SG",rank:1,time:"1:14.56",racePoints:0,penalty:25.6,finalPoints:25.6,location:"哈尔滨"}]},{id:"2",name:"李雪",fisCode:"125002",nationality:"CHN",region:"吉林",specialties:["回转","大回转"],currentPoints:{SL:38.45,GS:41.23},pointsHistory:[{date:"2024-12-15",competition:"2024全国锦标赛",discipline:"SL",rank:2,time:"1:35.23",racePoints:15.6,penalty:12.4,finalPoints:28,location:"长白山"},{date:"2024-12-08",competition:"吉林省锦标赛",discipline:"GS",rank:1,time:"1:28.90",racePoints:0,penalty:20.3,finalPoints:20.3,location:"万科松花湖"}]}];function g(){let[e,t]=(0,s.useState)(f[0]),[n,g]=(0,s.useState)("all"),[y,b]=(0,s.useState)("6months"),[v,j]=(0,s.useState)(""),w=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"csv",n=(0,r.Lj)(S,e.name);switch(t){case"csv":(0,r.GS)(n);break;case"excel":(0,r.pq)(n);break;case"json":(0,r.cs)(n)}},k=e=>{if(e.length<2)return 0;let t=e.slice(0,Math.ceil(e.length/3)),n=e.slice(-Math.ceil(e.length/3)),i=t.reduce((e,t)=>e+t.finalPoints,0)/t.length,s=n.reduce((e,t)=>e+t.finalPoints,0)/n.length;return(s-i)/s*100},N=e=>{let t={};return e.forEach(e=>{t[e.discipline]||(t[e.discipline]={points:[],count:0,average:0,best:0}),t[e.discipline].points.push(e.finalPoints),t[e.discipline].count++}),Object.keys(t).forEach(e=>{let n=t[e].points;t[e].average=n.reduce((e,t)=>e+t,0)/n.length,t[e].best=Math.min(...n)}),t},S=e.pointsHistory.filter(e=>{let t="all"===n||e.discipline===n,i=e.competition.toLowerCase().includes(v.toLowerCase())||e.location.toLowerCase().includes(v.toLowerCase()),s=new Date(e.date),a=new Date,r=new Date;switch(y){case"1month":r.setMonth(a.getMonth()-1);break;case"3months":r.setMonth(a.getMonth()-3);break;case"6months":r.setMonth(a.getMonth()-6);break;case"1year":r.setFullYear(a.getFullYear()-1);break;default:r=new Date("2020-01-01")}let l=s>=r;return t&&i&&l}),C=e=>{switch(e){case"up":return(0,i.jsx)(l.Z,{className:"h-4 w-4 text-green-600"});case"down":return(0,i.jsx)(c.Z,{className:"h-4 w-4 text-red-600"});default:return(0,i.jsx)("div",{className:"h-4 w-4 bg-gray-400 rounded-full"})}};return(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative",children:[(0,i.jsx)("div",{className:"absolute top-0 right-0 w-40 h-40 opacity-15 rounded-full overflow-hidden",children:(0,i.jsx)("img",{src:(0,a.al)("/images/ski-action-2.jpg"),alt:"",className:"w-full h-full object-cover"})}),(0,i.jsx)("div",{className:"absolute bottom-20 left-10 w-32 h-32 opacity-15 rounded-full overflow-hidden",children:(0,i.jsx)("img",{src:(0,a.al)("/images/giant-slalom.jpg"),alt:"",className:"w-full h-full object-cover"})}),(0,i.jsxs)("div",{className:"text-center mb-8 relative z-10",children:[(0,i.jsx)("h1",{className:"section-title",children:"积分历史"}),(0,i.jsx)("p",{className:"text-gray-600 text-lg",children:"运动员积分变化历史和趋势分析"})]}),(0,i.jsx)("div",{className:"card mb-8 relative z-10",children:(0,i.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(o.Z,{className:"h-5 w-5 text-gray-500"}),(0,i.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"选择运动员:"})]}),(0,i.jsx)("select",{value:e.id,onChange:e=>{let n=f.find(t=>t.id===e.target.value);n&&t(n)},className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ski-blue",children:f.map(e=>(0,i.jsxs)("option",{value:e.id,children:[e.name," (",e.fisCode,")"]},e.id))}),(0,i.jsxs)("select",{value:n,onChange:e=>g(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ski-blue",children:[(0,i.jsx)("option",{value:"all",children:"全部项目"}),(0,i.jsx)("option",{value:"SL",children:"回转"}),(0,i.jsx)("option",{value:"GS",children:"大回转"}),(0,i.jsx)("option",{value:"SG",children:"超级大回转"}),(0,i.jsx)("option",{value:"DH",children:"速降"})]}),(0,i.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ski-blue",children:[(0,i.jsx)("option",{value:"1month",children:"近1个月"}),(0,i.jsx)("option",{value:"3months",children:"近3个月"}),(0,i.jsx)("option",{value:"6months",children:"近6个月"}),(0,i.jsx)("option",{value:"1year",children:"近1年"}),(0,i.jsx)("option",{value:"all",children:"全部时间"})]}),(0,i.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,i.jsx)(d.Z,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,i.jsx)("input",{type:"text",placeholder:"搜索比赛或地点...",value:v,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ski-blue"})]})]})}),(0,i.jsx)("div",{className:"card mb-8 relative z-10",children:(0,i.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:(0,i.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-ski-blue to-primary-700 rounded-full flex items-center justify-center text-3xl text-white font-bold",children:e.name.charAt(0)})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-ski-navy mb-2",children:e.name}),(0,i.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-500",children:"FIS代码:"})," ",e.fisCode]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-500",children:"国家/地区:"})," ",e.nationality,"/",e.region]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-500",children:"专项:"})," ",e.specialties.join("、")]})]})]}),(0,i.jsxs)("div",{className:"flex space-x-4",children:[(0,i.jsxs)("button",{className:"btn-secondary flex items-center",onClick:()=>{if(!e||0===S.length){alert("请选择运动员并确保有历史数据");return}let t={athlete:e,history:S,totalRaces:S.length,bestPoints:Math.min(...S.map(e=>e.finalPoints)),worstPoints:Math.max(...S.map(e=>e.finalPoints)),averagePoints:S.reduce((e,t)=>e+t.finalPoints,0)/S.length,improvementTrend:k(S),disciplineStats:N(S)},n=new Blob(['\n      <!DOCTYPE html>\n      <html lang="zh-CN">\n      <head>\n        <meta charset="UTF-8">\n        <title>'.concat(e.name,' - 积分趋势分析报告</title>\n        <style>\n          body { font-family: Arial, sans-serif; margin: 20px; background: #f8f9fa; }\n          .container { max-width: 1000px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }\n          .header { text-align: center; border-bottom: 2px solid #2563eb; padding-bottom: 20px; margin-bottom: 30px; }\n          .title { color: #1e40af; font-size: 2.2em; margin: 0; }\n          .athlete-info { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px; margin: 20px 0; }\n          .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0; }\n          .stat-card { background: #f3f4f6; padding: 20px; border-radius: 8px; text-align: center; border-left: 4px solid #3b82f6; }\n          .stat-number { font-size: 1.8em; font-weight: bold; color: #1e40af; margin-bottom: 5px; }\n          .stat-label { color: #64748b; font-size: 0.9em; }\n          .trend-positive { color: #059669; font-weight: bold; }\n          .trend-negative { color: #dc2626; font-weight: bold; }\n          .trend-stable { color: #6b7280; font-weight: bold; }\n          .analysis-section { margin: 30px 0; padding: 20px; background: #f8fafc; border-radius: 8px; }\n          .discipline-chart { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin: 20px 0; }\n          .discipline-item { background: white; padding: 15px; border-radius: 6px; text-align: center; border: 1px solid #e5e7eb; }\n          .history-table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n          .history-table th, .history-table td { padding: 10px; text-align: left; border-bottom: 1px solid #e5e7eb; }\n          .history-table th { background: #f3f4f6; font-weight: bold; }\n          .improvement { background: #dcfce7 !important; }\n          .decline { background: #fef2f2 !important; }\n          .footer { text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #e5e7eb; color: #64748b; }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="header">\n            <h1 class="title">').concat(e.name," 积分趋势分析</h1>\n            <p>生成时间: ").concat(new Date().toLocaleString("zh-CN"),'</p>\n          </div>\n\n          <div class="athlete-info">\n            <h2>运动员基本信息</h2>\n            <p><strong>姓名:</strong> ').concat(e.name,"</p>\n            <p><strong>FIS编码:</strong> ").concat(e.fisCode,"</p>\n            <p><strong>国籍:</strong> ").concat(e.nationality,"</p>\n            <p><strong>所属地区:</strong> ").concat(e.region,"</p>\n            <p><strong>专项:</strong> ").concat(e.specialties.join(", "),'</p>\n          </div>\n\n          <div class="stats-grid">\n            <div class="stat-card">\n              <div class="stat-number">').concat(t.totalRaces,'</div>\n              <div class="stat-label">总比赛场次</div>\n            </div>\n            <div class="stat-card">\n              <div class="stat-number">').concat(t.bestPoints.toFixed(2),'</div>\n              <div class="stat-label">最佳积分</div>\n            </div>\n            <div class="stat-card">\n              <div class="stat-number">').concat(t.averagePoints.toFixed(2),'</div>\n              <div class="stat-label">平均积分</div>\n            </div>\n            <div class="stat-card">\n              <div class="stat-number ').concat(t.improvementTrend>0?"trend-positive":t.improvementTrend<0?"trend-negative":"trend-stable",'">\n                ').concat(t.improvementTrend>0?"↗":t.improvementTrend<0?"↘":"→"," ").concat(Math.abs(t.improvementTrend).toFixed(1),'%\n              </div>\n              <div class="stat-label">总体趋势</div>\n            </div>\n          </div>\n\n          <div class="analysis-section">\n            <h3>项目表现分析</h3>\n            <div class="discipline-chart">\n              ').concat(Object.entries(t.disciplineStats).map(e=>{let[t,n]=e;return'\n                  <div class="discipline-item">\n                    <h4>'.concat(t,"</h4>\n                    <p>比赛: ").concat(n.count,"场</p>\n                    <p>平均积分: ").concat(n.average.toFixed(2),"</p>\n                    <p>最佳: ").concat(n.best.toFixed(2),"</p>\n                  </div>\n                ")}).join(""),'\n            </div>\n          </div>\n\n          <div class="analysis-section">\n            <h3>比赛历史记录</h3>\n            <table class="history-table">\n              <thead>\n                <tr>\n                  <th>日期</th>\n                  <th>比赛</th>\n                  <th>项目</th>\n                  <th>排名</th>\n                  <th>时间</th>\n                  <th>最终积分</th>\n                  <th>趋势</th>\n                </tr>\n              </thead>\n              <tbody>\n                ').concat(S.map((e,t)=>{let n=S[t+1],i="",s="";return n&&(e.finalPoints<n.finalPoints?(i="improvement",s="↗ 提升"):e.finalPoints>n.finalPoints?(i="decline",s="↘ 下降"):s="→ 稳定"),'\n                    <tr class="'.concat(i,'">\n                      <td>').concat(e.date,"</td>\n                      <td>").concat(e.competition,"</td>\n                      <td>").concat(e.discipline,"</td>\n                      <td>").concat(e.rank,"</td>\n                      <td>").concat(e.time,"</td>\n                      <td>").concat(e.finalPoints.toFixed(2),"</td>\n                      <td>").concat(s,"</td>\n                    </tr>\n                  ")}).join(""),'\n              </tbody>\n            </table>\n          </div>\n\n          <div class="footer">\n            <p>本分析报告由高山滑雪竞赛管理系统生成</p>\n            <p>数据来源: FIS官方数据</p>\n          </div>\n        </div>\n      </body>\n      </html>\n    ')],{type:"text/html;charset=utf-8"}),i=document.createElement("a"),s=URL.createObjectURL(n);i.setAttribute("href",s),i.setAttribute("download","".concat(e.name,"_趋势分析_").concat(new Date().toISOString().split("T")[0],".html")),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s),alert("趋势分析报告生成成功！已下载到本地。")},children:[(0,i.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"趋势分析"]}),(0,i.jsxs)("div",{className:"relative group",children:[(0,i.jsxs)("button",{className:"btn-secondary flex items-center",onClick:()=>w("csv"),children:[(0,i.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"导出数据"]}),(0,i.jsxs)("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10",children:[(0,i.jsx)("button",{onClick:()=>w("csv"),className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:"导出 CSV"}),(0,i.jsx)("button",{onClick:()=>w("excel"),className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:"导出 Excel"}),(0,i.jsx)("button",{onClick:()=>w("json"),className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:"导出 JSON"})]})]})]})]})}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 relative z-10",children:Object.entries(e.currentPoints).map(e=>{let[t,n]=e,s={SL:"回转",GS:"大回转",SG:"超级大回转",DH:"速降"}[t]||t;return(0,i.jsxs)("div",{className:"card text-center",children:[(0,i.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:s}),(0,i.jsx)("div",{className:"text-3xl font-bold text-ski-blue mb-2",children:n.toFixed(2)}),(0,i.jsxs)("div",{className:"flex items-center justify-center",children:[C("stable"),(0,i.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"当前积分"})]})]},t)})}),(0,i.jsxs)("div",{className:"card relative z-10",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,i.jsxs)("h3",{className:"text-xl font-bold text-ski-navy flex items-center",children:[(0,i.jsx)(h,{className:"h-6 w-6 mr-2"}),"积分历史记录"]}),(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:["共 ",S.length," 条记录"]})]}),(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"w-full",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"日期"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"比赛"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"项目"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"成绩"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"比赛积分"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"惩罚值"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"最终积分"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"地点"})]})}),(0,i.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map((e,t)=>(0,i.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(x.Z,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,i.jsx)("span",{className:"text-sm text-gray-900",children:e.date})]})}),(0,i.jsx)("td",{className:"px-6 py-4",children:(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.competition})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-ski-ice text-ski-blue",children:e.discipline})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white mr-2 ".concat(1===e.rank?"bg-yellow-500":2===e.rank?"bg-gray-400":3===e.rank?"bg-orange-500":"bg-gray-500"),children:e.rank}),(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.time})})]})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("span",{className:"text-sm text-gray-900",children:e.racePoints.toFixed(2)})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("span",{className:"text-sm text-yellow-600",children:["+",e.penalty.toFixed(2)]})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("span",{className:"text-sm font-semibold text-ski-blue",children:e.finalPoints.toFixed(2)})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("span",{className:"text-sm text-gray-500",children:e.location})})]},t))})]})}),0===S.length&&(0,i.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,i.jsx)(u.Z,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,i.jsx)("p",{children:"暂无符合条件的积分记录"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8 relative z-10",children:[(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-ski-navy mb-4",children:"积分分析"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm text-gray-600",children:"最佳积分"}),(0,i.jsx)("span",{className:"font-semibold text-green-600",children:Math.min(...Object.values(e.currentPoints)).toFixed(2)})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm text-gray-600",children:"参赛次数"}),(0,i.jsx)("span",{className:"font-semibold text-ski-navy",children:e.pointsHistory.length})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm text-gray-600",children:"获胜次数"}),(0,i.jsx)("span",{className:"font-semibold text-yellow-600",children:e.pointsHistory.filter(e=>1===e.rank).length})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm text-gray-600",children:"登台次数"}),(0,i.jsx)("span",{className:"font-semibold text-orange-600",children:e.pointsHistory.filter(e=>e.rank<=3).length})]})]})]}),(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-ski-navy mb-4",children:"项目分布"}),(0,i.jsx)("div",{className:"space-y-3",children:e.specialties.map(t=>{let n=e.pointsHistory.filter(e=>e.discipline===t||"回转"===t&&"SL"===e.discipline||"大回转"===t&&"GS"===e.discipline||"超级大回转"===t&&"SG"===e.discipline||"速降"===t&&"DH"===e.discipline).length,s=n/e.pointsHistory.length*100;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,i.jsx)("span",{children:t}),(0,i.jsxs)("span",{children:[n,"次 (",s.toFixed(0),"%)"]})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,i.jsx)("div",{className:"bg-ski-blue h-2 rounded-full",style:{width:"".concat(s,"%")}})})]},t)})})]})]})]})}},5628:function(e,t,n){"use strict";function i(e){let{filename:t,data:n,columns:i}=e;if(!n||0===n.length){alert("没有数据可导出");return}let s=i||Object.keys(n[0]),a=new Blob(["\uFEFF"+[s.join(","),...n.map(e=>s.map(t=>{let n=e[t]||"";return"string"==typeof n&&(n.includes(",")||n.includes("\n")||n.includes('"'))?'"'.concat(n.replace(/"/g,'""'),'"'):n}).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),l=URL.createObjectURL(a);r.setAttribute("href",l),r.setAttribute("download","".concat(t,".csv")),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(l)}function s(e){let{filename:t,data:n,columns:i,title:s}=e;if(!n||0===n.length){alert("没有数据可导出");return}let a=i||Object.keys(n[0]),r=new Blob(['\n    <html>\n      <head>\n        <meta charset="utf-8">\n        <title>'.concat(s||t,"</title>\n        <style>\n          table { border-collapse: collapse; width: 100%; }\n          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n          th { background-color: #f2f2f2; font-weight: bold; }\n          .title { font-size: 18px; font-weight: bold; margin-bottom: 10px; }\n        </style>\n      </head>\n      <body>\n        ").concat(s?'<div class="title">'.concat(s,"</div>"):"","\n        <table>\n          <thead>\n            <tr>\n              ").concat(a.map(e=>"<th>".concat(e,"</th>")).join(""),"\n            </tr>\n          </thead>\n          <tbody>\n            ").concat(n.map(e=>"<tr>".concat(a.map(t=>"<td>".concat(e[t]||"","</td>")).join(""),"</tr>")).join(""),"\n          </tbody>\n        </table>\n      </body>\n    </html>\n  ")],{type:"application/vnd.ms-excel"}),l=document.createElement("a"),c=URL.createObjectURL(r);l.setAttribute("href",c),l.setAttribute("download","".concat(t,".xls")),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(c)}function a(e){let{filename:t,data:n}=e;if(!n||0===n.length){alert("没有数据可导出");return}let i=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),s=document.createElement("a"),a=URL.createObjectURL(i);s.setAttribute("href",a),s.setAttribute("download","".concat(t,".json")),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}function r(e){let t=e.map(e=>({排名:e.rank,运动员:e.name,"国家/地区":e.nationality,项目:e.discipline,中国积分:e.points,趋势:"up"===e.trend?"上升":"down"===e.trend?"下降":"稳定",最近比赛:e.lastRace,参赛次数:e.totalRaces,最佳成绩:e.bestResult}));return{filename:"中国积分排行榜_".concat(new Date().toISOString().split("T")[0]),data:t,title:"中国积分排行榜"}}function l(e,t){let n=e.map(e=>({比赛日期:e.date,比赛名称:e.competition,项目:e.discipline,排名:e.rank,成绩时间:e.time,比赛积分:e.racePoints,惩罚值:e.penalty,最终积分:e.finalPoints,比赛地点:e.location}));return{filename:"".concat(t,"_比赛历史_").concat(new Date().toISOString().split("T")[0]),data:n,title:"".concat(t," - 比赛历史记录")}}function c(e,t){let n=e.map(e=>({排名:e.rank,运动员:e.athlete,"国家/地区":e.country,成绩:e.time,差距:e.gap,中国积分:e.fisPoints}));return{filename:"".concat(t,"_比赛结果_").concat(new Date().toISOString().split("T")[0]),data:n,title:"".concat(t," - 比赛结果")}}n.d(t,{GS:function(){return i},Lj:function(){return l},Uy:function(){return r},cs:function(){return a},l_:function(){return c},pq:function(){return s}})},4007:function(e,t,n){"use strict";n.d(t,{al:function(){return s}});var i=n(257);function s(e){let t=e.startsWith("/")?e:"/".concat(e);return"true"===i.env.GITHUB_PAGES||window.location.pathname.startsWith("/ski/")?"/ski".concat(t):t}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=8114)}),_N_E=e.O()}]);