(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27],{1577:function(e,s,t){Promise.resolve().then(t.bind(t,220))},4401:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},3327:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},6221:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},1047:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1723:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6211:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},3774:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},6142:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]])},6595:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},8896:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},3085:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},525:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},9474:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5805:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},220:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return v}});var a=t(7437),i=t(2265),n=t(9376),l=t(7648),r=t(2369),c=t(3327),d=t(6595),x=t(525),m=t(3085),h=t(9474),o=t(4401),u=t(6211),p=t(3774),f=t(1047),g=t(6142),y=t(1723),j=t(8896),N=t(6221),k=t(5805);function v(){let e=(0,n.useRouter)(),[s,t]=(0,i.useState)(null),[v,b]=(0,i.useState)(!0),[w,Z]=(0,i.useState)({currentPoints:45.67,bestPoints:35.42,rankingChange:-5,recentRaces:8,bestResult:"第3名",disciplines:["SL","GS","SG"]}),[M]=(0,i.useState)([{id:"1",competition:"2024年全国高山滑雪锦标赛",discipline:"SL",date:"2024-02-15",rank:3,time:"1:45.67",points:35.42,location:"长白山"},{id:"2",competition:"2024年亚洲杯高山滑雪赛",discipline:"GS",date:"2024-02-01",rank:8,time:"2:15.89",points:52.18,location:"日本志贺高原"},{id:"3",competition:"2024年中国积分赛",discipline:"SG",date:"2024-01-20",rank:12,time:"1:28.34",points:68.95,location:"崇礼"}]),[S]=(0,i.useState)([{id:"1",name:"2024年世界杯高山滑雪赛",discipline:"SL",date:"2024-03-15",location:"奥地利因斯布鲁克",status:"registered"},{id:"2",name:"2024年全国春季锦标赛",discipline:"GS",date:"2024-03-25",location:"崇礼",status:"pending"},{id:"3",name:"2024年亚洲锦标赛",discipline:"SG",date:"2024-04-08",location:"韩国龙平",status:"closed"}]);(0,i.useEffect)(()=>{let s=localStorage.getItem("ski_user_session");if(!s){e.push("/auth/login");return}try{let a=JSON.parse(s);if("athlete"!==a.role){e.push("/auth/login");return}t(a)}catch(s){e.push("/auth/login");return}b(!1)},[e]);let P=e=>{switch(e){case"registered":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},C=e=>{switch(e){case"registered":return"已报名";case"pending":return"待审核";case"closed":return"已截止";default:return e}};return v?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-ski-blue"})}):s?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(l.default,{href:"/",className:"text-xl font-bold text-ski-navy",children:"Alpine Ski Points"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"text-gray-700",children:["欢迎，",s.name]}),(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("ski_user_session"),e.push("/auth/login")},className:"text-gray-500 hover:text-ski-blue",children:"退出登录"})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-ski-blue to-ski-navy rounded-lg p-6 mb-8 text-white",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-white/20 rounded-full p-3",children:(0,a.jsx)(r.Z,{className:"h-8 w-8 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:s.name}),(0,a.jsxs)("p",{className:"text-blue-100",children:["FIS编号: ",s.fisCode]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,a.jsx)("span",{className:"text-blue-100",children:"运动员"}),(0,a.jsx)("span",{className:"text-blue-100",children:"•"}),(0,a.jsxs)("span",{className:"text-blue-100",children:["专项: ",w.disciplines.join(", ")]})]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(c.Z,{className:"h-8 w-8 text-ski-blue"})}),(0,a.jsxs)("div",{className:"ml-5",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"当前积分"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:w.currentPoints})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(d.Z,{className:"h-8 w-8 text-yellow-500"})}),(0,a.jsxs)("div",{className:"ml-5",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"最佳积分"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:w.bestPoints})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:w.rankingChange>=0?(0,a.jsx)(x.Z,{className:"h-8 w-8 text-green-500"}):(0,a.jsx)(m.Z,{className:"h-8 w-8 text-red-500"})}),(0,a.jsxs)("div",{className:"ml-5",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"排名变化"}),(0,a.jsxs)("p",{className:"text-2xl font-semibold ".concat(w.rankingChange>=0?"text-green-600":"text-red-600"),children:[w.rankingChange>=0?"+":"",w.rankingChange]})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(h.Z,{className:"h-8 w-8 text-amber-500"})}),(0,a.jsxs)("div",{className:"ml-5",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"最佳成绩"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:w.bestResult})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5 text-ski-blue mr-2"}),"近期成绩"]})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:M.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between border-l-4 border-ski-blue pl-4 py-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.competition}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),e.discipline]}),(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(p.Z,{className:"h-3 w-3 mr-1"}),e.location]}),(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(f.Z,{className:"h-3 w-3 mr-1"}),e.date]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.rank<=3?"bg-yellow-100 text-yellow-800":e.rank<=10?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:[(0,a.jsx)(g.Z,{className:"h-3 w-3 mr-1"}),"第",e.rank,"名"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[e.points,"分"]})]})]},e.id))})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5 text-ski-blue mr-2"}),"即将到来的比赛"]})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:S.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(P(e.status)),children:C(e.status)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),e.discipline]}),(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(p.Z,{className:"h-3 w-3 mr-1"}),e.location]}),(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(y.Z,{className:"h-3 w-3 mr-1"}),e.date]})]})]},e.id))})})]})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"快捷操作"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(l.default,{href:"/registration/online",className:"flex items-center p-4 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[(0,a.jsx)(j.Z,{className:"h-8 w-8 text-ski-blue mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"报名比赛"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"参加新的比赛"})]})]}),(0,a.jsxs)(l.default,{href:"/points/rankings",className:"flex items-center p-4 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[(0,a.jsx)(N.Z,{className:"h-8 w-8 text-ski-blue mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"积分排名"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"查看排名情况"})]})]}),(0,a.jsxs)(l.default,{href:"/athletes/history",className:"flex items-center p-4 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[(0,a.jsx)(o.Z,{className:"h-8 w-8 text-ski-blue mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"历史成绩"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"查看详细记录"})]})]}),(0,a.jsxs)(l.default,{href:"/results-query",className:"flex items-center p-4 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[(0,a.jsx)(k.Z,{className:"h-8 w-8 text-ski-blue mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"成绩查询"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"查询比赛结果"})]})]})]})]})]})]}):null}}},function(e){e.O(0,[451,971,117,744],function(){return e(e.s=1577)}),_N_E=e.O()}]);